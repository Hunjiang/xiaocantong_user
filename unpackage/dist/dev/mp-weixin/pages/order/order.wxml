<view><view class="tabs-box"><view class="hx-tabs"><block wx:for="{{tabs}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['swiperChange',[i]]]]]}}" class="{{['hx-tabs-item',(swiperCurrent==i)?'hx-tabs-active':'']}}" style="{{'transition:'+(transtionTime+'ms')+';'}}" bindtap="__e"><text>{{item.name}}</text></view></block><view class="hx-tabs-slider-box" style="{{'width:'+(100/tabs.length+'%')+';'+('transition:'+(transtionTime+'ms')+';')+('left:'+(swiperCurrentSliderLeft+'%')+';')}}"><view class="hx-tabs-slider"></view></view></view></view><view class="main" style="{{'height:'+(mainHeight)+';'}}"><swiper style="height:100%;" id="mainSwiper" current="{{swiperCurrent}}" duration="{{transtionTime}}" data-event-opts="{{[['animationfinish',[['animationfinish',['$event']]]]]}}" bindanimationfinish="__e"><block wx:for="{{tabs}}" wx:for-item="data" wx:for-index="x"><swiper-item class="swiper-item"><view class="scroll-items"><scroll-view style="height:100%;width:100%;" scroll-with-animation="{{true}}" scroll-y="{{true}}" refresher-background="#eee" refresher-enabled="{{reloadDown}}" refresher-triggered="{{triggered}}" refresher-threshold="{{100}}" data-event-opts="{{[['refresherrefresh',[['onRefresh',['$event']]]],['refresherrestore',[['onRestore',['$event']]]]]}}" bindrefresherrefresh="__e" bindrefresherrestore="__e"><block wx:if="{{data.data&&data.data.length==0}}"><view class="nullOrder"><image src="../../static/img/order_icon.png" mode></image><text class="tit">暂无订单</text></view></block><block wx:else><block wx:for="{{data.data}}" wx:for-item="order" wx:for-index="j" wx:key="j"><block><block wx:if="{{order}}"><view class="order-item"><view class="item-top"><image src="{{base+order.shop[0].logo}}" mode></image><view class="tit"><text>{{order.shop[0].name}}</text><block wx:if="{{order.shop[0].campus_name}}"><text>{{"("+order.shop[0].campus_name+")"}}</text></block><view class="hxicon-right _i"></view></view><block wx:if="{{order.order_status==1&&order.refund_status==1}}"><view class="right"><text>待付款</text></view></block><block wx:if="{{order.order_status==2&&order.refund_status==1}}"><view class="right"><text>已付款</text></view></block><block wx:if="{{order.order_status==3&&order.refund_status==1}}"><view class="right"><text>已完成</text></view></block><block wx:if="{{order.refund_status!=1}}"><view class="right"><text>退款订单</text></view></block></view><view class="item-center"><block wx:for="{{order.goods}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item-good"><image src="{{base+item.goods_image}}" mode></image><view class="right"><view class="row"><text>{{"商品名称："+item.goods_name}}</text></view><view class="row"><text>{{"商品单价："+item.goods_price}}</text></view><view class="row"><text>{{"商品规格："+item.goods_spec_name}}</text></view><view class="row"><text>{{"商品数量：X"+item.total_num}}</text></view></view></view></block></view><view class="item-center"><view class="right"><block wx:if="{{order.goods_name}}"><view class="row"><text>{{order.goods_name}}</text></view></block><view class="row"><text>{{"下单时间："+order.create_time_text}}</text></view><block wx:if="{{order.pay_time_text.length!=0}}"><view class="row"><text>{{"支付时间："+order.pay_time_text}}</text></view></block><view class="row"><text>{{"约定派送时间："+order.user_delivery_time}}</text></view><block wx:if="{{order.rider_take_time_text}}"><view class="row"><text>{{"骑手接单时间："+order.rider_take_time_text}}</text></view></block><block wx:if="{{order.delivery_time_text.length!=0}}"><view class="row"><text>{{"实际送达时间："+order.delivery_time_text}}</text></view></block><view class="row"><text>{{"总价：￥"+order.goods_price}}</text></view></view></view><view class="item-bottom"><view class="left"></view><block wx:if="{{order.refund_status==1&&order.order_status==3}}"><view data-event-opts="{{[['tap',[['refund',['$0'],[[['tabs','',x],['data','',j,'id']]]]]]]}}" class="btn bg-yellow" bindtap="__e">申请退款</view></block><block wx:if="{{order.order_status==1&&order.refund_status==1}}"><view data-event-opts="{{[['tap',[['goPay',['$0'],[[['tabs','',x],['data','',j,'id']]]]]]]}}" class="btn bg-yellow" bindtap="__e">去支付</view></block><block wx:if="{{order.rider_status==1&&order.order_status!=3}}"><view data-event-opts="{{[['tap',[['cancel',['$0',x,j],[[['tabs','',x],['data','',j,'id']]]]]]]}}" class="btn bg-yellow" bindtap="__e">取消订单</view></block><block wx:if="{{order.is_comment==1&&order.order_status==3}}"><view data-event-opts="{{[['tap',[['goComment',['$0'],[[['tabs','',x],['data','',j,'id']]]]]]]}}" class="btn bg-yellow" bindtap="__e">去评价</view></block><block wx:if="{{order.refund_status!=1}}"><view data-event-opts="{{[['tap',[['goRefund',['$0'],[[['tabs','',x],['data','',j,'id']]]]]]]}}" class="btn" bindtap="__e">退款进度</view></block></view></view></block></block></block></block></scroll-view></view></swiper-item></block></swiper><u-modal vue-id="3c50aaa2-1" show-cancel-button="{{true}}" async-close="{{true}}" value="{{showField}}" data-event-opts="{{[['^confirm',[['confirmRefund']]],['^input',[['__set_model',['','showField','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><u-field bind:input="__e" vue-id="{{('3c50aaa2-2')+','+('3c50aaa2-1')}}" label="原因" placeholder="请填写退款原因" value="{{excRefund}}" data-event-opts="{{[['^input',[['__set_model',['','excRefund','$event',[]]]]]]}}" bind:__l="__l"></u-field></u-modal></view></view>